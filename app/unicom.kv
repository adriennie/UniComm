# This KV file defines the UI for UniComApp

Screen:
    MDNavigationLayout:

        ScreenManager:
            id: screen_manager

            Screen:
                name: 'content_screen'

                BoxLayout:
                    orientation: 'vertical'

                    MDTopAppBar:
                        title: 'UniCom'
                        elevation: 10
                        left_action_items: [['menu', lambda x: nav_drawer.set_state('toggle')]]

                    MDBoxLayout:
                        orientation: 'vertical'
                        padding: dp(10)
                        spacing: dp(10)

                        MDLabel:
                            text: "Translator"
                            halign: "center"
                            theme_text_color: "Primary"
                            font_style: "H5"

                        MDBoxLayout:
                            orientation: "horizontal"
                            spacing: dp(10)

                            MDTextField:
                                id: source_lang_spinner
                                hint_text: "Source Language"
                                readonly: True
                                on_focus: if self.focus: app.menu_source.open()

                            MDTextField:
                                id: target_lang_spinner
                                hint_text: "Target Language"
                                readonly: True
                                on_focus: if self.focus: app.menu_target.open()

                        MDTextField:
                            id: input_text
                            hint_text: "Enter text to translate"
                            multiline: True
                            size_hint_y: None
                            height: dp(100)

                        MDRaisedButton:
                            text: "Translate"
                            on_release: app.translate_text()

                        MDTextField:
                            id: output_text
                            hint_text: "Translation output"
                            multiline: True
                            readonly: True
                            size_hint_y: None
                            height: dp(100)

        MDNavigationDrawer:
            id: nav_drawer

            BoxLayout:
                orientation: 'vertical'

                MDLabel:
                    text: 'Menu'
                    font_style: 'Subtitle1'
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: dp(10), dp(10)

                ScrollView:
                    MDList:
                        OneLineListItem:
                            text: 'Home'
                            on_release:
                                screen_manager.current = 'content_screen'
                                nav_drawer.set_state('close')

                        OneLineListItem:
                            text: 'Dark Mode'
                            on_release:
                                app.toggle_dark_mode(not app.theme_cls.theme_style == "Dark")
                                nav_drawer.set_state('close')
